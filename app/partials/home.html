<div data-ng-include src="'partials/navi.html'"></div>
<div class="vspace"></div>

<div class="container">
    <div data-ng-repeat="q in questions">
        <!-- init defaults -->
        <span data-ng-init="votes.vote[q._id] = q.rank"></span>

        <!-- questions-->
        <div class="row">
            <div class="span12"><a class="btn btn-link" data-ng-click="questionDetail(q._id)" data-unique="1" data-placement="right" data-title={{q.body}} data-bs-popover="'answer.html'">{{q.body}} </a></div>
        </div>

        <div class="vspace"></div>

        <div class="row">
            <div class="span1 text-center"><button data-ng-click="votes.call(q._id, 'up')" class="btn btn-mini"><i class="icon-arrow-up"></i></button></div>
            <div class="span11">{{q.date}} created by <a data-ng-href="#/users/{{q.creatorID}}">{{q.creator}}</a></div>
        </div>
        <div class="row">
            <div class="span1 text-center">{{votes.vote[q._id]}}</div>
            <div class="span11">&nbsp;</div>
        </div>
        <div class="row">
            <div class="span1 text-center"><button data-ng-click="votes.call(q._id, 'down')" class="btn btn-mini"><i class="icon-arrow-down"></i></button></div>
            <div class="span11">{{q.comments.length}} comments</div>
        </div>
        <hr>
    </div>
</div>

<script type="text/ng-template" id="answer.html">
    {{detail.answer}}<br />
    {{detail.ideal}}<br />
    <br />
    <button class="btn btn-small pull-right" data-ng-click="dismiss()">Close</button> <br />
</script>